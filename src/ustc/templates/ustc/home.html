<!-- prettier-ignore -->
{% extends "ustc/base.html" %}
{% load i18n %}
{% load ustc_extras %}
{% block title %}{% trans "SiGNAL" %} - {% trans "Home" %}{% endblock %}

{% block content %}
<div class="jumbotron bg-light p-5 rounded">
  <h1>{% trans "SiGNAL" %}</h1>
  <p class="lead">{% trans "Welcome to SiGNAL." %}</p>
</div>

<div class="row mt-4">
  <div class="col-md-3 mb-4">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">{% trans "Semesters" %}</h5>
        <p class="card-text">{{ semester_count }}</p>
        <a href="{% url 'ustc:semester-list' %}" class="btn btn-primary">{% trans "Browse Semesters" %}</a>
      </div>
    </div>
  </div>
  <div class="col-md-3 mb-4">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">{% trans "Courses" %}</h5>
        <p class="card-text">{{ course_count }}</p>
        <a href="{% url 'ustc:course-list' %}" class="btn btn-primary">{% trans "Browse Courses" %}</a>
      </div>
    </div>
  </div>
  <div class="col-md-3 mb-4">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">{% trans "Sections" %}</h5>
        <p class="card-text">{{ section_count }}</p>
        <a href="{% url 'ustc:section-list' %}" class="btn btn-primary">{% trans "Browse Sections" %}</a>
      </div>
    </div>
  </div>
  <div class="col-md-3 mb-4">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">{% trans "Teachers" %}</h5>
        <p class="card-text">{{ teacher_count }}</p>
        <a href="{% url 'ustc:teacher-list' %}" class="btn btn-primary">{% trans "Browse Teachers" %}</a>
      </div>
    </div>
  </div>
</div>

<h2 class="mt-5">{% trans "Recent Semesters" %}</h2>
<div class="list-group">
  {% for semester in recent_semesters %}
  <a href="{% url 'ustc:semester-detail' semester.pk %}" class="list-group-item list-group-item-action">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">{{ semester.name }}</h5>
      <small>{{ semester.code }}</small>
    </div>
    <p class="mb-1">{{ semester.start_date|date:"M d, Y" }} - {{ semester.end_date|date:"M d, Y" }}</p>
  </a>
  {% empty %}
  <div class="list-group-item">{% trans "No semesters available." %}</div>
  {% endfor %}
</div>

<div class="mt-5">
  <h2>{% trans "API Access" %}</h2>
  <p>{% trans "This system provides a RESTful API for programmatic access:" %}</p>
  <ul>
    <li><code>GET /ustc/api/v1/{model}/</code> - {% trans "List all items" %}</li>
    <li><code>GET /ustc/api/v1/{model}/{id}/</code> - {% trans "Get item by ID" %}</li>
    <!-- prettier-ignore -->
    <li><code>GET /ustc/api/v1/{model}/jw-id/{jw_id}/</code> - {% trans "Get item by JW ID (for models with JW ID)" %}</li>
  </ul>
  <!-- prettier-ignore -->
  <p>{% trans "Visit the" %} <a href="/ustc/api/v1/">{% trans "API browser" %}</a> {% trans "for interactive documentation." %}</p>
</div>
{% endblock %}
